!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).cacheSimple=t()}(this,function(){"use strict";var r={set:function(e,t,o,n,r,i){if(null!=e){null==t&&(t=""),"[object Object]"!==Object.prototype.toString.call(t)&&"[object Array]"!==Object.prototype.toString.call(t)||(t=JSON.stringify(t));var c=[e+"="+escape(t)];if(!isNaN(o)){var a=new Date;a.setTime(a.getTime()+1e3*o),0!=o?c.push("expires="+a.toGMTString()):o=""}null!=n&&c.push("domain="+n),null!=r&&c.push("path="+r),i&&c.push("secure"),document.cookie=c.join("; ")}},get:function(e,t){if(new RegExp("(?:; |^)"+e+"=([^;]*);?").test(document.cookie)){var o=unescape(RegExp.$1);if("string"==typeof o)try{o=JSON.parse(o)}catch(e){o=o}return o}return t||null},del:function(e,t,o){var n=new Date;r.set(e,"",-n.getTime()/1e3,t,o)}};return{cookie_s:r,localStorage_s:{setLocalStorage:function(e,t){"[object Object]"===Object.prototype.toString.call(t)&&(t=JSON.stringify(t)),window.localStorage.setItem(e,t)},getLocalStorage:function(e){if(!e)return null;var t=window.localStorage.getItem(e);if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t=t}return t},delLocalStorage:function(e){if(!e)return null;window.localStorage.removeItem(e)},set:function(e,t,o){o="number"==typeof o?1e3*o:31536e7,this.delLocalStorage(e);var n=(new Date).getTime(),r=o,i={};i._value=t,i._time=n,i._age=n+r;try{return this.setLocalStorage(e,i),!0}catch(e){return!1}},_isExpire:function(e){var t=!0,o=this.getLocalStorage(e),n=(new Date).getTime();return o&&(t=n>o._age||o),t},get:function(e){var t=this._isExpire(e),o=null;return!0!==t&&(o=t._value),o},del:function(e){try{return this.delLocalStorage(e),!0}catch(e){return!1}}},sessionStorage_s:{set:function(e,t){this.del(e),"[object Object]"!==Object.prototype.toString.call(t)&&"[object Array]"!==Object.prototype.toString.call(t)||(t=JSON.stringify(t)),window.sessionStorage.setItem(e,t)},get:function(e){if(!e)return null;var t=window.sessionStorage.getItem(e);if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t=t}return t},del:function(e){if(!e)return null;window.sessionStorage.removeItem(e)}}}});
